/* tslint:disable */
/* eslint-disable */
/**
 * Malloy Publisher - Semantic Model Serving API
 * The Malloy Publisher - Semantic Model Serving API provides comprehensive access to Malloy packages and their associated resources. A Malloy package is a directory containing Malloy models (.malloy files), Malloy notebooks (.malloynb files), and embedded databases (.parquet files) with a malloy-publisher.json manifest at the package\'s root directory.  ## Key Features  - **Project Management**: Create and manage projects with their associated packages and connections - **Package Lifecycle**: Full CRUD operations for Malloy packages and their versions - **Model & Notebook Access**: Retrieve and execute Malloy models and notebooks - **Connection Management**: Secure database connection configuration and testing - **Query Execution**: Execute queries against models and retrieve results - **Watch Mode**: Real-time file watching for development workflows  ## Resource Hierarchy  The API follows a hierarchical resource structure: ``` Projects ├── Connections └── Packages     ├── Models     ├── Notebooks     └── Databases ```  For examples, see the Malloy samples packages (https://github.com/malloydata/malloy-samples) repository. 
 *
 * The version of the OpenAPI document: v0
 * 
 *
 * NOTE: This class is auto generated by OpenAPI Generator (https://openapi-generator.tech).
 * https://openapi-generator.tech
 * Do not edit the class manually.
 */


import type { Configuration } from '../configuration';
import type { AxiosPromise, AxiosInstance, RawAxiosRequestConfig } from 'axios';
import globalAxios from 'axios';
// Some imports not used depending on template conditions
// @ts-ignore
import { DUMMY_BASE_URL, assertParamExists, setApiKeyToObject, setBasicAuthToObject, setBearerAuthToObject, setOAuthToObject, setSearchParams, serializeDataIfNeeded, toPathString, createRequestFunction, replaceWithSerializableTypeIfNeeded } from '../common';
// @ts-ignore
import { BASE_PATH, COLLECTION_FORMATS, type RequestArgs, BaseAPI, RequiredError, operationServerMap } from '../base';
// @ts-ignore
import type { Notebook } from '../models';
// @ts-ignore
import type { NotebookCellResult } from '../models';
// @ts-ignore
import type { RawNotebook } from '../models';
/**
 * NotebooksApi - axios parameter creator
 */
export const NotebooksApiAxiosParamCreator = function (configuration?: Configuration) {
    return {
        /**
         * Executes a specific cell in a Malloy notebook by index. For code cells, this compiles and runs the Malloy code, returning query results and any new sources defined. For markdown cells, this simply returns the cell content. 
         * @summary Execute a specific notebook cell
         * @param {string} projectName Name of the project
         * @param {string} packageName Name of the package
         * @param {string} path Path to notebook within the package
         * @param {number} cellIndex Index of the cell to execute (0-based)
         * @param {string} [versionId] Version identifier for the package
         * @param {*} [options] Override http request option.
         * @throws {RequiredError}
         */
        executeNotebookCell: async (projectName: string, packageName: string, path: string, cellIndex: number, versionId?: string, options: RawAxiosRequestConfig = {}): Promise<RequestArgs> => {
            // verify required parameter 'projectName' is not null or undefined
            assertParamExists('executeNotebookCell', 'projectName', projectName)
            // verify required parameter 'packageName' is not null or undefined
            assertParamExists('executeNotebookCell', 'packageName', packageName)
            // verify required parameter 'path' is not null or undefined
            assertParamExists('executeNotebookCell', 'path', path)
            // verify required parameter 'cellIndex' is not null or undefined
            assertParamExists('executeNotebookCell', 'cellIndex', cellIndex)
            const localVarPath = `/projects/{projectName}/packages/{packageName}/notebooks/{path}/cells/{cellIndex}`
                .replace(`{${"projectName"}}`, encodeURIComponent(String(projectName)))
                .replace(`{${"packageName"}}`, encodeURIComponent(String(packageName)))
                .replace(`{${"path"}}`, encodeURIComponent(String(path)))
                .replace(`{${"cellIndex"}}`, encodeURIComponent(String(cellIndex)));
            // use dummy base URL string because the URL constructor only accepts absolute URLs.
            const localVarUrlObj = new URL(localVarPath, DUMMY_BASE_URL);
            let baseOptions;
            if (configuration) {
                baseOptions = configuration.baseOptions;
            }

            const localVarRequestOptions = { method: 'GET', ...baseOptions, ...options};
            const localVarHeaderParameter = {} as any;
            const localVarQueryParameter = {} as any;

            if (versionId !== undefined) {
                localVarQueryParameter['versionId'] = versionId;
            }

            localVarHeaderParameter['Accept'] = 'application/json';

            setSearchParams(localVarUrlObj, localVarQueryParameter);
            let headersFromBaseOptions = baseOptions && baseOptions.headers ? baseOptions.headers : {};
            localVarRequestOptions.headers = {...localVarHeaderParameter, ...headersFromBaseOptions, ...options.headers};

            return {
                url: toPathString(localVarUrlObj),
                options: localVarRequestOptions,
            };
        },
        /**
         * Retrieves a Malloy notebook with its raw cell contents (markdown and code). Cell execution should be done separately via the execute-notebook-cell endpoint. 
         * @summary Get Malloy notebook cells
         * @param {string} projectName Name of the project
         * @param {string} packageName Name of the package
         * @param {string} path Path to notebook within the package.
         * @param {string} [versionId] Version identifier for the package
         * @param {*} [options] Override http request option.
         * @throws {RequiredError}
         */
        getNotebook: async (projectName: string, packageName: string, path: string, versionId?: string, options: RawAxiosRequestConfig = {}): Promise<RequestArgs> => {
            // verify required parameter 'projectName' is not null or undefined
            assertParamExists('getNotebook', 'projectName', projectName)
            // verify required parameter 'packageName' is not null or undefined
            assertParamExists('getNotebook', 'packageName', packageName)
            // verify required parameter 'path' is not null or undefined
            assertParamExists('getNotebook', 'path', path)
            const localVarPath = `/projects/{projectName}/packages/{packageName}/notebooks/{path}`
                .replace(`{${"projectName"}}`, encodeURIComponent(String(projectName)))
                .replace(`{${"packageName"}}`, encodeURIComponent(String(packageName)))
                .replace(`{${"path"}}`, encodeURIComponent(String(path)));
            // use dummy base URL string because the URL constructor only accepts absolute URLs.
            const localVarUrlObj = new URL(localVarPath, DUMMY_BASE_URL);
            let baseOptions;
            if (configuration) {
                baseOptions = configuration.baseOptions;
            }

            const localVarRequestOptions = { method: 'GET', ...baseOptions, ...options};
            const localVarHeaderParameter = {} as any;
            const localVarQueryParameter = {} as any;

            if (versionId !== undefined) {
                localVarQueryParameter['versionId'] = versionId;
            }

            localVarHeaderParameter['Accept'] = 'application/json';

            setSearchParams(localVarUrlObj, localVarQueryParameter);
            let headersFromBaseOptions = baseOptions && baseOptions.headers ? baseOptions.headers : {};
            localVarRequestOptions.headers = {...localVarHeaderParameter, ...headersFromBaseOptions, ...options.headers};

            return {
                url: toPathString(localVarUrlObj),
                options: localVarRequestOptions,
            };
        },
        /**
         * Retrieves a list of all Malloy notebooks within the specified package. Each notebook entry includes the relative path, package name, and any compilation errors. This endpoint is useful for discovering available notebooks and checking their status. 
         * @summary List package notebooks
         * @param {string} projectName Name of the project
         * @param {string} packageName Name of the package
         * @param {string} [versionId] Version identifier for the package
         * @param {*} [options] Override http request option.
         * @throws {RequiredError}
         */
        listNotebooks: async (projectName: string, packageName: string, versionId?: string, options: RawAxiosRequestConfig = {}): Promise<RequestArgs> => {
            // verify required parameter 'projectName' is not null or undefined
            assertParamExists('listNotebooks', 'projectName', projectName)
            // verify required parameter 'packageName' is not null or undefined
            assertParamExists('listNotebooks', 'packageName', packageName)
            const localVarPath = `/projects/{projectName}/packages/{packageName}/notebooks`
                .replace(`{${"projectName"}}`, encodeURIComponent(String(projectName)))
                .replace(`{${"packageName"}}`, encodeURIComponent(String(packageName)));
            // use dummy base URL string because the URL constructor only accepts absolute URLs.
            const localVarUrlObj = new URL(localVarPath, DUMMY_BASE_URL);
            let baseOptions;
            if (configuration) {
                baseOptions = configuration.baseOptions;
            }

            const localVarRequestOptions = { method: 'GET', ...baseOptions, ...options};
            const localVarHeaderParameter = {} as any;
            const localVarQueryParameter = {} as any;

            if (versionId !== undefined) {
                localVarQueryParameter['versionId'] = versionId;
            }

            localVarHeaderParameter['Accept'] = 'application/json';

            setSearchParams(localVarUrlObj, localVarQueryParameter);
            let headersFromBaseOptions = baseOptions && baseOptions.headers ? baseOptions.headers : {};
            localVarRequestOptions.headers = {...localVarHeaderParameter, ...headersFromBaseOptions, ...options.headers};

            return {
                url: toPathString(localVarUrlObj),
                options: localVarRequestOptions,
            };
        },
    }
};

/**
 * NotebooksApi - functional programming interface
 */
export const NotebooksApiFp = function(configuration?: Configuration) {
    const localVarAxiosParamCreator = NotebooksApiAxiosParamCreator(configuration)
    return {
        /**
         * Executes a specific cell in a Malloy notebook by index. For code cells, this compiles and runs the Malloy code, returning query results and any new sources defined. For markdown cells, this simply returns the cell content. 
         * @summary Execute a specific notebook cell
         * @param {string} projectName Name of the project
         * @param {string} packageName Name of the package
         * @param {string} path Path to notebook within the package
         * @param {number} cellIndex Index of the cell to execute (0-based)
         * @param {string} [versionId] Version identifier for the package
         * @param {*} [options] Override http request option.
         * @throws {RequiredError}
         */
        async executeNotebookCell(projectName: string, packageName: string, path: string, cellIndex: number, versionId?: string, options?: RawAxiosRequestConfig): Promise<(axios?: AxiosInstance, basePath?: string) => AxiosPromise<NotebookCellResult>> {
            const localVarAxiosArgs = await localVarAxiosParamCreator.executeNotebookCell(projectName, packageName, path, cellIndex, versionId, options);
            const localVarOperationServerIndex = configuration?.serverIndex ?? 0;
            const localVarOperationServerBasePath = operationServerMap['NotebooksApi.executeNotebookCell']?.[localVarOperationServerIndex]?.url;
            return (axios, basePath) => createRequestFunction(localVarAxiosArgs, globalAxios, BASE_PATH, configuration)(axios, localVarOperationServerBasePath || basePath);
        },
        /**
         * Retrieves a Malloy notebook with its raw cell contents (markdown and code). Cell execution should be done separately via the execute-notebook-cell endpoint. 
         * @summary Get Malloy notebook cells
         * @param {string} projectName Name of the project
         * @param {string} packageName Name of the package
         * @param {string} path Path to notebook within the package.
         * @param {string} [versionId] Version identifier for the package
         * @param {*} [options] Override http request option.
         * @throws {RequiredError}
         */
        async getNotebook(projectName: string, packageName: string, path: string, versionId?: string, options?: RawAxiosRequestConfig): Promise<(axios?: AxiosInstance, basePath?: string) => AxiosPromise<RawNotebook>> {
            const localVarAxiosArgs = await localVarAxiosParamCreator.getNotebook(projectName, packageName, path, versionId, options);
            const localVarOperationServerIndex = configuration?.serverIndex ?? 0;
            const localVarOperationServerBasePath = operationServerMap['NotebooksApi.getNotebook']?.[localVarOperationServerIndex]?.url;
            return (axios, basePath) => createRequestFunction(localVarAxiosArgs, globalAxios, BASE_PATH, configuration)(axios, localVarOperationServerBasePath || basePath);
        },
        /**
         * Retrieves a list of all Malloy notebooks within the specified package. Each notebook entry includes the relative path, package name, and any compilation errors. This endpoint is useful for discovering available notebooks and checking their status. 
         * @summary List package notebooks
         * @param {string} projectName Name of the project
         * @param {string} packageName Name of the package
         * @param {string} [versionId] Version identifier for the package
         * @param {*} [options] Override http request option.
         * @throws {RequiredError}
         */
        async listNotebooks(projectName: string, packageName: string, versionId?: string, options?: RawAxiosRequestConfig): Promise<(axios?: AxiosInstance, basePath?: string) => AxiosPromise<Array<Notebook>>> {
            const localVarAxiosArgs = await localVarAxiosParamCreator.listNotebooks(projectName, packageName, versionId, options);
            const localVarOperationServerIndex = configuration?.serverIndex ?? 0;
            const localVarOperationServerBasePath = operationServerMap['NotebooksApi.listNotebooks']?.[localVarOperationServerIndex]?.url;
            return (axios, basePath) => createRequestFunction(localVarAxiosArgs, globalAxios, BASE_PATH, configuration)(axios, localVarOperationServerBasePath || basePath);
        },
    }
};

/**
 * NotebooksApi - factory interface
 */
export const NotebooksApiFactory = function (configuration?: Configuration, basePath?: string, axios?: AxiosInstance) {
    const localVarFp = NotebooksApiFp(configuration)
    return {
        /**
         * Executes a specific cell in a Malloy notebook by index. For code cells, this compiles and runs the Malloy code, returning query results and any new sources defined. For markdown cells, this simply returns the cell content. 
         * @summary Execute a specific notebook cell
         * @param {string} projectName Name of the project
         * @param {string} packageName Name of the package
         * @param {string} path Path to notebook within the package
         * @param {number} cellIndex Index of the cell to execute (0-based)
         * @param {string} [versionId] Version identifier for the package
         * @param {*} [options] Override http request option.
         * @throws {RequiredError}
         */
        executeNotebookCell(projectName: string, packageName: string, path: string, cellIndex: number, versionId?: string, options?: RawAxiosRequestConfig): AxiosPromise<NotebookCellResult> {
            return localVarFp.executeNotebookCell(projectName, packageName, path, cellIndex, versionId, options).then((request) => request(axios, basePath));
        },
        /**
         * Retrieves a Malloy notebook with its raw cell contents (markdown and code). Cell execution should be done separately via the execute-notebook-cell endpoint. 
         * @summary Get Malloy notebook cells
         * @param {string} projectName Name of the project
         * @param {string} packageName Name of the package
         * @param {string} path Path to notebook within the package.
         * @param {string} [versionId] Version identifier for the package
         * @param {*} [options] Override http request option.
         * @throws {RequiredError}
         */
        getNotebook(projectName: string, packageName: string, path: string, versionId?: string, options?: RawAxiosRequestConfig): AxiosPromise<RawNotebook> {
            return localVarFp.getNotebook(projectName, packageName, path, versionId, options).then((request) => request(axios, basePath));
        },
        /**
         * Retrieves a list of all Malloy notebooks within the specified package. Each notebook entry includes the relative path, package name, and any compilation errors. This endpoint is useful for discovering available notebooks and checking their status. 
         * @summary List package notebooks
         * @param {string} projectName Name of the project
         * @param {string} packageName Name of the package
         * @param {string} [versionId] Version identifier for the package
         * @param {*} [options] Override http request option.
         * @throws {RequiredError}
         */
        listNotebooks(projectName: string, packageName: string, versionId?: string, options?: RawAxiosRequestConfig): AxiosPromise<Array<Notebook>> {
            return localVarFp.listNotebooks(projectName, packageName, versionId, options).then((request) => request(axios, basePath));
        },
    };
};

/**
 * NotebooksApi - object-oriented interface
 */
export class NotebooksApi extends BaseAPI {
    /**
     * Executes a specific cell in a Malloy notebook by index. For code cells, this compiles and runs the Malloy code, returning query results and any new sources defined. For markdown cells, this simply returns the cell content. 
     * @summary Execute a specific notebook cell
     * @param {string} projectName Name of the project
     * @param {string} packageName Name of the package
     * @param {string} path Path to notebook within the package
     * @param {number} cellIndex Index of the cell to execute (0-based)
     * @param {string} [versionId] Version identifier for the package
     * @param {*} [options] Override http request option.
     * @throws {RequiredError}
     */
    public executeNotebookCell(projectName: string, packageName: string, path: string, cellIndex: number, versionId?: string, options?: RawAxiosRequestConfig) {
        return NotebooksApiFp(this.configuration).executeNotebookCell(projectName, packageName, path, cellIndex, versionId, options).then((request) => request(this.axios, this.basePath));
    }

    /**
     * Retrieves a Malloy notebook with its raw cell contents (markdown and code). Cell execution should be done separately via the execute-notebook-cell endpoint. 
     * @summary Get Malloy notebook cells
     * @param {string} projectName Name of the project
     * @param {string} packageName Name of the package
     * @param {string} path Path to notebook within the package.
     * @param {string} [versionId] Version identifier for the package
     * @param {*} [options] Override http request option.
     * @throws {RequiredError}
     */
    public getNotebook(projectName: string, packageName: string, path: string, versionId?: string, options?: RawAxiosRequestConfig) {
        return NotebooksApiFp(this.configuration).getNotebook(projectName, packageName, path, versionId, options).then((request) => request(this.axios, this.basePath));
    }

    /**
     * Retrieves a list of all Malloy notebooks within the specified package. Each notebook entry includes the relative path, package name, and any compilation errors. This endpoint is useful for discovering available notebooks and checking their status. 
     * @summary List package notebooks
     * @param {string} projectName Name of the project
     * @param {string} packageName Name of the package
     * @param {string} [versionId] Version identifier for the package
     * @param {*} [options] Override http request option.
     * @throws {RequiredError}
     */
    public listNotebooks(projectName: string, packageName: string, versionId?: string, options?: RawAxiosRequestConfig) {
        return NotebooksApiFp(this.configuration).listNotebooks(projectName, packageName, versionId, options).then((request) => request(this.axios, this.basePath));
    }
}

